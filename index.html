<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>Knife Engraving Customiser</title>
  <link rel="icon" type="image/x-icon" href="./favicon.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto&family=Lobster&family=Chocolate+Classical+Sans&family=LXGW+WenKai+Mono+TC&family=Noto+Sans+HK&family=Noto+Serif+TC&display=swap" rel="stylesheet">

  <!-- Material Symbols -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- JSZip for ZIP download -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!-- External CSS and JS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1 id="title">Knife Engraving Customiser</h1>
  <h3 id="subtitle">by <img src="/images/kool-logo.png" alt="logo" style="width:50px;vertical-align:bottom;"></h3>
  <div class="container">
    <!-- Page 1: Knife Selection -->
    <div id="page-1" class="page section active">
      <button id="lang-toggle">中文</button>
      <h2 data-i18n="chooseKnives">Choose your knives</h2>
      <div id="product-picker">
        <h3 class="group-title" data-i18n="bigKnives">Big Knives</h3>
        
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/chef.jpg" data-thumb="/images/chef-thumb.jpg" data-name="chef">
          <img src="/images/chef-thumb.jpg" alt="Chef knife">
          <span data-i18n="chefKnife">Chef Knife</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/santoku.jpg" data-thumb="/images/santoku-thumb.jpg" data-name="santoku">
          <img src="/images/santoku-thumb.jpg" alt="Santoku knife">
          <span data-i18n="santokuKnife">Santoku Knife</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/bread.jpg" data-thumb="/images/bread-thumb.jpg" data-name="bread">
          <img src="/images/bread-thumb.jpg" alt="Bread knife">
          <span data-i18n="breadKnife">Bread Knife</span>
        </label>
      
        <h3 class="group-title" data-i18n="smallKnives">Small Knives</h3>
        
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/utility.jpg" data-thumb="/images/utility-thumb.jpg" data-name="utility">
          <img src="/images/utility-thumb.jpg" alt="Utility knife">
          <span data-i18n="utilityKnife">Utility Knife</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/paring.jpg" data-thumb="/images/paring-thumb.jpg" data-name="paring">
          <img src="/images/paring-thumb.jpg" alt="Paring knife">
          <span data-i18n="paringKnife">Paring Knife</span>
        </label>
      
        <h3 class="group-title" data-i18n="extraBigKnifeAndGadgets">Extra Big Knife and Gadgets</h3>
        
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/chopper.jpg" data-thumb="/images/chopper-thumb.jpg" data-name="chopper">
          <img src="/images/chopper-thumb.jpg" alt="Chopper knife">
          <span data-i18n="chopperKnife">Chopper Knife</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/tongs.jpg" data-thumb="/images/tongs-thumb.jpg" data-name="tongs">
          <img src="/images/tongs-thumb.jpg" alt="Tongs">
          <span data-i18n="tongs">Tongs</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/scissors.jpg" data-thumb="/images/scissors-thumb.jpg" data-name="scissors">
          <img src="/images/scissors-thumb.jpg" alt="Scissors">
          <span data-i18n="scissors">Scissors</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/chopping-board.jpg" data-thumb="/images/chopping-board-thumb.jpg" data-name="choppingBoard">
          <img src="/images/chopping-board-thumb.jpg" alt="Chopping board">
          <span data-i18n="choppingBoard">Chopping Board</span>
        </label>
        <label class="product-option">
          <input type="checkbox" name="product" value="/images/turner.jpg" data-thumb="/images/turner-thumb.jpg" data-name="turner">
          <img src="/images/turner-thumb.jpg" alt="Turner">
          <span data-i18n="turner">Turner</span>
        </label>
      </div>
      <div class="navigation">
        <button id="next-1"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
      </div>
    </div>

    <!-- Page 2: Big Knives Customization -->
    <div id="page-2" class="page">
      <div id="progress-section" class="progress-section"></div>
      <div id="big-knife-content"></div>
      <div class="navigation">
        <button id="back-2"><span class="material-symbols-outlined">arrow_back_ios_new</span></button>
        <button id="edit-zone"><span class="material-symbols-outlined">vignette</span></button>
        <button id="resize-controls"><span class="material-symbols-outlined">format_shapes</span></button>
        <button id="sync-fonts"><span class="material-symbols-outlined">format_size</span></button>
        <button id="auto-align"><span class="material-symbols-outlined">recenter</span></button>
        <button id="next-2"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
      </div>
    </div>

    <!-- Page 3: Small Knives Customization -->
    <div id="page-3" class="page">
      <div id="progress-section" class="progress-section"></div>
      <div id="small-knife-content"></div>
      <div class="navigation">
        <button id="back-3"><span class="material-symbols-outlined">arrow_back_ios_new</span></button>
        <button id="edit-zone"><span class="material-symbols-outlined">vignette</span></button>
        <button id="resize-controls"><span class="material-symbols-outlined">format_shapes</span></button>
        <button id="sync-fonts"><span class="material-symbols-outlined">format_size</span></button>
        <button id="auto-align"><span class="material-symbols-outlined">recenter</span></button>
        <button id="next-3"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
      </div>
    </div>

    <!-- Page 4: Preview and Download -->
    <div id="page-4" class="page section">
      <div id="progress-section" class="progress-section"></div>
      <h2 data-i18n="previewAllKnives">Preview All Knives</h2>
      <div class="preview-description" data-i18n="previewDescription">Click any image to enlarge</div>
      <div id="preview-content" class="preview-list"></div>
      <div class="navigation">
        <button id="back-4"><span class="material-symbols-outlined">arrow_back_ios_new</span></button>
        <button id="download-all"><span class="material-symbols-outlined">download_2</span></button>
      </div>
    </div>
    
    <!-- Page 5: Non-Knife Items Customization -->
    <div id="page-5" class="page">
      <div id="progress-section" class="progress-section"></div>
      <div id="other-content"></div>
      <div class="navigation">
        <button id="back-5"><span class="material-symbols-outlined">arrow_back_ios_new</span></button>
        <button id="edit-zone"><span class="material-symbols-outlined">vignette</span></button>
        <button id="resize-controls"><span class="material-symbols-outlined">format_shapes</span></button>
        <button id="sync-fonts"><span class="material-symbols-outlined">format_size</span></button>
        <button id="auto-align"><span class="material-symbols-outlined">recenter</span></button>
        <button id="next-5"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
      </div>
    </div>

    <!-- Modal for Enlarged Image -->
    <div id="modal" class="modal">
      <img id="modal-image" src="" alt="Enlarged preview">
      <span data-i18n="modalClose">Click anywhere to close</span>
    </div>

    <div class="button-guide">
      <h3 data-i18n="buttonGuideTitle">How to Use the Controls</h3>
      <div class="button-list">
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined">arrow_back_ios_new</span></button>
          <div class="button-desc">
            <h4 data-i18n="backCustomize"></h4>
            <p data-i18n="backCustomizeOn"></p>
            <p data-i18n="backCustomizeOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1">vignette</span></button>
          <div class="button-desc">
            <h4 data-i18n="editZoneGuide"></h4>
            <p data-i18n="editZoneOn"></p>
            <p data-i18n="editZoneOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined">format_shapes</span></button>
          <div class="button-desc">
            <h4 data-i18n="resizeControlsGuide"></h4>
            <p data-i18n="resizeControlsOn"></p>
            <p data-i18n="resizeControlsOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined">format_size</span></button>
          <div class="button-desc">
            <h4 data-i18n="syncFontsGuide"></h4>
            <p data-i18n="syncFontsOn"></p>
            <p data-i18n="syncFontsOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined">recenter</span></button>
          <div class="button-desc">
            <h4 data-i18n="autoAlignGuide"></h4>
            <p data-i18n="autoAlignOn"></p>
            <p data-i18n="autoAlignOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button" data-i18n="nextGuide"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
          <div class="button-desc">
            <h4 data-i18n="backPreview"></h4>
            <p data-i18n="backPreviewOn"></p>
            <p data-i18n="backPreviewOff"></p>
          </div>
        </div>
        <div class="button-item">
          <button class="guide-button"><span class="material-symbols-outlined">download_2</span></button>
          <div class="button-desc">
            <h4 data-i18n="downloadGuide"></h4>
            <p data-i18n="downloadOn"></p>
            <p data-i18n="downloadOff"></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Disclaimer -->
    <div class="disclaimer">
      <h3 data-i18n="disclaimerTitle">Disclaimer</h3>
      <p data-i18n="disclaimerText"></p>
    </div>

    <!-- Custom Alert Modal -->
    <div id="alert-modal" class="modal">
      <div class="alert-content">
        <p id="alert-message"></p>
        <button id="alert-close" data-i18n="close">Close</button>
      </div>
    </div>
  </div>

  <!-- Your Modular Scripts -->
  <script src="/js/translations.js"></script>
  <script src="/js/state.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/js/i18n-manager.js"></script>
  <script src="/js/canvas-engine.js"></script>
  <script src="/js/controls.js"></script>
  <script src="/js/navigation.js"></script>
  <script src="/js/main.js"></script>
</body>
</html>
